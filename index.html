<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Store</title>
    <style>
        :root { --primary: #2563eb; --secondary: #64748b; --success: #22c55e; --dark: #1e293b; --light: #f8fafc; }
        body { font-family: 'Helvetica Neue', Arial, sans-serif; margin: 0; background: var(--light); color: var(--dark); line-height: 1.6; }
        header { background: white; padding: 1rem 5%; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 10px rgba(0,0,0,0.05); position: sticky; top: 0; z-index: 100; }
        
        .container { max-width: 1100px; margin: 2rem auto; padding: 0 20px; }
        
        /* å•†å“ã‚«ãƒ†ã‚´ãƒª */
        .products-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 20px; }
        .product-card { background: white; border-radius: 12px; padding: 15px; text-align: center; transition: transform 0.2s; border: 1px solid #e2e8f0; }
        .product-card:hover { transform: translateY(-5px); box-shadow: 0 10px 15px rgba(0,0,0,0.1); }
        .product-card img { width: 100%; height: 140px; object-fit: cover; border-radius: 8px; margin-bottom: 10px; }
        .product-card h3 { font-size: 1rem; margin: 10px 0; height: 2.4em; overflow: hidden; }
        .price { color: var(--primary); font-weight: bold; font-size: 1.2rem; }
        
        .btn { background: var(--primary); color: white; border: none; padding: 10px 15px; border-radius: 6px; cursor: pointer; width: 100%; font-weight: 600; margin-top: 10px; }
        .btn:hover { opacity: 0.9; }

        /* ã‚«ãƒ¼ãƒˆãƒ»æ±ºæ¸ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
        .checkout-container { display: grid; grid-template-columns: 1fr 350px; gap: 30px; margin-top: 40px; }
        .card-panel { background: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); }
        .cart-item { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #eee; padding: 10px 0; }
        
        /* ãƒ•ã‚©ãƒ¼ãƒ è¦ç´  */
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; font-size: 0.9rem; }
        input, select { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; box-sizing: border-box; }
        .coupon-area { display: flex; gap: 10px; margin-top: 15px; }
        
        .badge { background: #fee2e2; color: #ef4444; padding: 2px 8px; border-radius: 20px; font-size: 0.8rem; margin-left: 10px; }
        @media (max-width: 768px) { .checkout-container { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

<header>
    <h2>TestStore</h2>
    <div>ğŸ›’ ã‚«ãƒ¼ãƒˆ: <span id="cart-count">0</span> ç‚¹</div>
</header>

<div class="container">
    <div class="products-grid" id="product-list"></div>

    <div class="checkout-container">
        <div class="card-panel">
            <h3>ğŸ›’ ã‚«ãƒ¼ãƒˆã®ä¸­èº«</h3>
            <div id="cart-items"><p style="color:gray">å•†å“ã‚’è¿½åŠ ã—ã¦ãã ã•ã„</p></div>
            
            <div class="coupon-area">
                <input type="text" id="coupon-input" placeholder="ã‚¯ãƒ¼ãƒãƒ³ã‚³ãƒ¼ãƒ‰å…¥åŠ› (ä¾‹: SAVE10)">
                <button class="btn" onclick="applyCoupon()" style="width: auto; margin:0; background: var(--dark);">é©ç”¨</button>
            </div>
            <p id="coupon-msg" style="font-size: 0.8rem; color: var(--success);"></p>
        </div>

        <div class="card-panel">
            <h3>ğŸ’³ ãŠæ”¯æ‰•ã„æƒ…å ±</h3>
            <div class="form-group">
                <label>é…é€å…ˆä½æ‰€</label>
                <input type="text" placeholder="æ±äº¬éƒ½æ¸‹è°·åŒº...">
            </div>
            <div class="form-group">
                <label>ãŠæ”¯æ‰•ã„æ–¹æ³•</label>
                <select id="payment-method">
                    <option value="credit">ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰</option>
                    <option value="paypay">PayPay / QRæ±ºæ¸ˆ</option>
                    <option value="bank">éŠ€è¡ŒæŒ¯è¾¼</option>
                    <option value="cod">ä»£é‡‘å¼•æ›</option>
                </select>
            </div>
            <hr>
            <div style="display:flex; justify-content:space-between; font-size:1.2rem; font-weight:bold;">
                <span>åˆè¨ˆé‡‘é¡:</span>
                <span>Â¥<span id="total-price">0</span></span>
            </div>
            <button class="btn" style="background: var(--success); height: 50px; font-size: 1.1rem;" onclick="processOrder()">æ³¨æ–‡ã‚’ç¢ºå®šã™ã‚‹</button>
        </div>
    </div>
</div>

<script>
    const products = [
        { id: 1, name: "ãƒ¯ã‚¤ãƒ¤ãƒ¬ã‚¹ã‚¤ãƒ¤ãƒ›ãƒ³", price: 8800, img: "https://picsum.photos/id/1/200/140" },
        { id: 2, name: "ã‚¹ãƒãƒ¼ãƒˆã‚¦ã‚©ãƒƒãƒ", price: 15000, img: "https://picsum.photos/id/2/200/140" },
        { id: 3, name: "ãƒ¡ã‚«ãƒ‹ã‚«ãƒ«ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰", price: 12000, img: "https://picsum.photos/id/3/200/140" },
        { id: 4, name: "é«˜ç²¾åº¦ãƒã‚¦ã‚¹", price: 5400, img: "https://picsum.photos/id/4/200/140" },
        { id: 5, name: "USB-C ãƒãƒ–", price: 3200, img: "https://picsum.photos/id/5/200/140" },
        { id: 6, name: "ãƒãƒ¼ãƒˆPCã‚¹ã‚¿ãƒ³ãƒ‰", price: 4500, img: "https://picsum.photos/id/6/200/140" },
        { id: 7, name: "ãƒ¢ãƒã‚¤ãƒ«ãƒãƒƒãƒ†ãƒªãƒ¼", price: 3900, img: "https://picsum.photos/id/7/200/140" },
        { id: 8, name: "ãƒ‡ã‚¹ã‚¯ãƒ©ã‚¤ãƒˆ", price: 6800, img: "https://picsum.photos/id/8/200/140" },
        { id: 9, name: "Webã‚«ãƒ¡ãƒ©", price: 7200, img: "https://picsum.photos/id/9/200/140" },
        { id: 10, name: "ãƒãƒ¼ã‚¿ãƒ–ãƒ«SSD", price: 11000, img: "https://picsum.photos/id/10/200/140" }
    ];

    let cart = [];
    let discount = 0;

    function init() {
        const list = document.getElementById('product-list');
        list.innerHTML = products.map(p => `
            <div class="product-card">
                <img src="${p.img}" alt="${p.name}">
                <h3>${p.name}</h3>
                <p class="price">Â¥${p.price.toLocaleString()}</p>
                <button class="btn" onclick="addToCart(${p.id})">ã‚«ãƒ¼ãƒˆã«è¿½åŠ </button>
            </div>
        `).join('');
    }

    function addToCart(id) {
        const product = products.find(p => p.id === id);
        cart.push(product);
        renderCart();
    }

    function renderCart() {
        document.getElementById('cart-count').innerText = cart.length;
        const container = document.getElementById('cart-items');
        
        if (cart.length === 0) {
            container.innerHTML = '<p style="color:gray">å•†å“ã‚’è¿½åŠ ã—ã¦ãã ã•ã„</p>';
            document.getElementById('total-price').innerText = "0";
            return;
        }

        container.innerHTML = cart.map((item, idx) => `
            <div class="cart-item">
                <span>${item.name}</span>
                <span>Â¥${item.price.toLocaleString()} <button onclick="removeItem(${idx})" style="border:none; background:none; cursor:pointer; color:red;">âœ•</button></span>
            </div>
        `).join('');

        let total = cart.reduce((sum, item) => sum + item.price, 0);
        total = Math.max(0, total - discount);
        document.getElementById('total-price').innerText = total.toLocaleString();
    }

    function removeItem(index) {
        cart.splice(index, 1);
        renderCart();
    }

    function applyCoupon() {
        const code = document.getElementById('coupon-input').value;
        if (code === "SAVE10") {
            discount = 1000;
            document.getElementById('coupon-msg').innerText = "ã‚¯ãƒ¼ãƒãƒ³é©ç”¨: 1,000å††å‰²å¼•";
        } else {
            alert("ç„¡åŠ¹ãªã‚¯ãƒ¼ãƒãƒ³ã§ã™");
            discount = 0;
            document.getElementById('coupon-msg').innerText = "";
        }
        renderCart();
    }

    function processOrder() {
        if (cart.length === 0) {
            alert("ã‚«ãƒ¼ãƒˆãŒç©ºã§ã™");
            return;
        }
        const method = document.getElementById('payment-method').value;
        alert(`ã”æ³¨æ–‡ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼\næ”¯æ‰•ã„æ–¹æ³•: ${method}\nåˆè¨ˆé‡‘é¡: Â¥${document.getElementById('total-price').innerText}`);
        cart = [];
        discount = 0;
        renderCart();
    }

    init();
</script>
</body>
</html>

